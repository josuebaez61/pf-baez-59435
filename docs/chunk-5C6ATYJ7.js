import{a as ne}from"./chunk-LQJGDC43.js";import"./chunk-YWYD2KRV.js";import{A as ie,E as oe,a as q,d as z,e as L,f as P,r as J,s as K,t as Q,u as W,v as X,w as Y,x as Z,y as ee,z as te}from"./chunk-4I5F3KA5.js";import"./chunk-NNRQZXAP.js";import{ba as b,ea as H,ga as V,ia as j,ja as B,la as G,ma as $,na as O,oa as U,qa as y}from"./chunk-W65YXDCL.js";import"./chunk-EJJBCPAK.js";import{n as T}from"./chunk-YSMQIVPS.js";import{Da as x,Ea as D,Eb as s,Ma as E,Mb as o,Nb as n,Ob as d,Pb as f,Qb as u,Sb as w,Vb as C,Xb as F,dd as A,fc as a,gc as _,gd as k,hb as l,hc as I,ib as v,ja as g,pc as N,qc as R,ta as c,ua as h,zb as p}from"./chunk-EVXATCS4.js";function de(e,r){e&1&&(o(0,"th",9),a(1,"No."),n())}function fe(e,r){if(e&1&&(o(0,"td",10),a(1),n()),e&2){let t=r.$implicit;l(),_(t.id)}}function ue(e,r){e&1&&(o(0,"th",9),a(1,"Nombre"),n())}function Ce(e,r){if(e&1&&(o(0,"td",10),a(1),n()),e&2){let t=r.$implicit;l(),_(t.name)}}function ge(e,r){e&1&&(o(0,"th",9),a(1,"Fecha de creacion"),n())}function he(e,r){if(e&1&&(o(0,"td",10),a(1),N(2,"date"),n()),e&2){let t=r.$implicit;l(),_(R(2,1,t.createdAt))}}function _e(e,r){e&1&&(o(0,"th",9),a(1,"Acciones"),n())}function be(e,r){if(e&1){let t=w();o(0,"td",10)(1,"button",11),C("click",function(){let m=x(t).$implicit,M=F();return D(M.edit.emit(m))}),o(2,"mat-icon"),a(3,"edit"),n()(),o(4,"button",12)(5,"mat-icon"),a(6,"delete"),n()()()}}function ye(e,r){e&1&&d(0,"tr",13)}function Se(e,r){e&1&&d(0,"tr",14)}var ae=(()=>{class e{categories=[];edit=new E;displayedColumns=["id","name","createdAt","actions"];static \u0275fac=function(i){return new(i||e)};static \u0275cmp=c({type:e,selectors:[["app-categories-table"]],inputs:{categories:"categories"},outputs:{edit:"edit"},decls:15,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],["mat-icon-button",""],["mat-header-row",""],["mat-row",""]],template:function(i,m){i&1&&(o(0,"table",0),f(1,1),p(2,de,2,0,"th",2)(3,fe,2,1,"td",3),u(),f(4,4),p(5,ue,2,0,"th",2)(6,Ce,2,1,"td",3),u(),f(7,5),p(8,ge,2,0,"th",2)(9,he,3,3,"td",3),u(),f(10,6),p(11,_e,2,0,"th",2)(12,be,7,0,"td",3),u(),p(13,ye,1,0,"tr",7)(14,Se,1,0,"tr",8),n()),i&2&&(s("dataSource",m.categories),l(13),s("matHeaderRowDef",m.displayedColumns),l(),s("matRowDefColumns",m.displayedColumns))},dependencies:[b,y,J,Q,Z,W,K,ee,X,Y,te,ie,A]})}return e})();var re=(()=>{class e{categoriesService;fb;categories=[];categoryForm;isEditing;constructor(t,i){this.categoriesService=t,this.fb=i,this.categoryForm=this.fb.group({name:["",V.required]})}ngOnInit(){this.loadCategories()}loadCategories(){this.categoriesService.getCategories().subscribe({next:t=>{this.categories=t,this.isEditing=void 0}})}onCreate(){this.categoryForm.invalid?this.categoryForm.markAllAsTouched():this.categoriesService.createCategory(this.categoryForm.value).subscribe({next:t=>{this.categories=[...this.categories,t],this.categoryForm.reset(),this.categoryForm.get("name")?.markAsUntouched()}})}onEdit(t){this.isEditing=t,this.categoryForm.patchValue(t)}handleSubmit(){this.isEditing?this.categoriesService.editCategory(this.isEditing.id,this.categoryForm.value).subscribe({next:()=>{this.loadCategories(),this.categoryForm.reset(),this.categoryForm.get("name")?.markAsUntouched()}}):this.onCreate()}static \u0275fac=function(i){return new(i||e)(v(ne),v(U))};static \u0275cmp=c({type:e,selectors:[["app-categories"]],decls:9,vars:3,consts:[[3,"ngSubmit","formGroup"],["formControlName","name","matInput","","placeholder","Electrodomesticos"],["matSuffix","","mat-icon-button",""],[3,"edit","categories"]],template:function(i,m){i&1&&(o(0,"form",0),C("ngSubmit",function(){return m.handleSubmit()}),o(1,"mat-form-field")(2,"mat-label"),a(3,"Nombre de la categoria"),n(),d(4,"input",1),o(5,"button",2)(6,"mat-icon"),a(7),n()()()(),o(8,"app-categories-table",3),C("edit",function(se){return m.onEdit(se)}),n()),i&2&&(s("formGroup",m.categoryForm),l(7),I(" ",m.isEditing?"edit":"add",""),l(),s("categories",m.categories))},dependencies:[G,H,j,B,$,O,b,y,L,q,z,P,ae]})}return e})();var me=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=c({type:e,selectors:[["app-category-detail"]],decls:2,vars:0,template:function(i,m){i&1&&(o(0,"p"),a(1,"category-detail works!"),n())}})}return e})();var ve=[{path:"",component:re},{path:":id",component:me}],le=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=h({type:e});static \u0275inj=g({imports:[T.forChild(ve),T]})}return e})();var We=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=h({type:e});static \u0275inj=g({imports:[k,oe,le]})}return e})();export{We as CategoriesModule};
