import"./chunk-UNBW4FH2.js";import{E as D,a as A,d as _,e as j,f as B}from"./chunk-4I5F3KA5.js";import"./chunk-NNRQZXAP.js";import{c as M}from"./chunk-BGH6WGSV.js";import"./chunk-43RDNZS3.js";import"./chunk-VED7TU6T.js";import{aa as w,ba as b,ea as I,ga as u,ia as F,ja as T,la as x,ma as N,na as E,oa as L,qa as R}from"./chunk-W65YXDCL.js";import"./chunk-EJJBCPAK.js";import{a as C,k as S,n as h}from"./chunk-YSMQIVPS.js";import{Eb as c,Mb as i,Nb as r,Ob as f,Vb as g,fc as n,gd as y,hb as d,ib as l,ja as a,ta as s,ua as p}from"./chunk-EVXATCS4.js";var k=(()=>{class t{formBuilder;authService;router;passwordInputType="password";loginForm;constructor(e,o,m){this.formBuilder=e,this.authService=o,this.router=m,this.loginForm=this.formBuilder.group({email:["",[u.required,u.email]],password:["",[u.required]]})}togglePasswordInputType(){this.passwordInputType==="password"?this.passwordInputType="text":this.passwordInputType="password"}doLogin(){this.authService.login(this.loginForm.value).subscribe({next:e=>{this.router.navigate(["dashboard","home"])},error:e=>{console.error(e),e instanceof Error&&alert(e.message),e instanceof C&&e.status===0&&alert("No se pudo conectar con el servidor")}})}onSubmit(){this.loginForm.invalid?this.loginForm.markAllAsTouched():this.doLogin()}static \u0275fac=function(o){return new(o||t)(l(L),l(M),l(S))};static \u0275cmp=s({type:t,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"row",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"w-100"],["formControlName","email","matInput",""],["formControlName","password","matInput","",3,"type"],["type","button","matSuffix","","mat-icon-button","",3,"click"],["type","submit","mat-flat-button","",1,"w-100"]],template:function(o,m){o&1&&(i(0,"h1"),n(1,"Iniciar sesion"),r(),i(2,"form",0),g("ngSubmit",function(){return m.onSubmit()}),i(3,"div",1)(4,"mat-form-field",2)(5,"mat-label"),n(6,"Email"),r(),f(7,"input",3),r()(),i(8,"div",1)(9,"mat-form-field",2)(10,"mat-label"),n(11,"Contrasena"),r(),f(12,"input",4),i(13,"button",5),g("click",function(){return m.togglePasswordInputType()}),i(14,"mat-icon"),n(15,"visibility"),r()()()(),i(16,"div",1)(17,"button",6),n(18,"Ingresar"),r()()()),o&2&&(d(2),c("formGroup",m.loginForm),d(10),c("type",m.passwordInputType))},dependencies:[x,I,F,T,N,E,w,b,R,j,A,_,B]})}return t})();var G=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275cmp=s({type:t,selectors:[["app-register"]],decls:2,vars:0,template:function(o,m){o&1&&(i(0,"p"),n(1,"register works!"),r())}})}return t})();var P=[{path:"login",component:k},{path:"register",component:G},{path:"**",redirectTo:"login"}],V=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=p({type:t});static \u0275inj=a({imports:[h.forChild(P),h]})}return t})();var dt=(()=>{class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=p({type:t});static \u0275inj=a({imports:[y,V,D]})}return t})();export{dt as AuthModule};
