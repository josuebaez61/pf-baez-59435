import{a as U}from"./chunk-YWYD2KRV.js";import{A as Ve,B as $e,C as He,D as qe,E as Oe,a as k,b as Ce,c as he,d as ge,e as A,f as B,g as xe,h as Se,i as ve,j as Ee,k as Ue,l as be,m as De,n as Me,o as Ie,p as Te,q as we,r as ye,s as Re,t as Fe,u as Ne,v as Le,w as ke,x as Ae,y as Be,z as je}from"./chunk-4I5F3KA5.js";import{a as ie,b as ne,c as oe,d as re,e as ae,f as le}from"./chunk-NNRQZXAP.js";import{a as me}from"./chunk-43RDNZS3.js";import{O as te,aa as R,ba as se,ea as de,ga as F,ia as ce,ja as N,la as L,ma as pe,na as ue,oa as fe,qa as _e}from"./chunk-W65YXDCL.js";import"./chunk-EJJBCPAK.js";import{b as Z,i as y,k as ee,n as O}from"./chunk-YSMQIVPS.js";import{$c as Q,Da as v,Ea as E,Eb as u,H as V,Jb as f,Mb as i,Nb as n,Ob as c,Pb as g,Qb as x,Sb as $,Vb as C,Xb as _,a as D,b as M,dd as W,ec as J,fc as o,gc as w,gd as X,hb as m,hc as S,ia as Y,ib as p,ja as I,na as z,oc as K,pc as H,qc as q,ta as h,ua as T,zb as s}from"./chunk-EVXATCS4.js";function et(e,l){e&1&&o(0," Este campo es requerido ")}function tt(e,l){e&1&&o(0," Este campo es requerido ")}function it(e,l){e&1&&o(0," Este campo es requerido ")}var Ge=(()=>{class e{matDialogRef;formBuilder;data;userForm;constructor(t,r,a){this.matDialogRef=t,this.formBuilder=r,this.data=a,this.userForm=this.formBuilder.group({firstName:[null,[F.required]],lastName:[null,[F.required]],email:[null,[F.required]]}),this.patchFormValue()}get isEditing(){return!!this.data?.editingUser}patchFormValue(){this.data?.editingUser&&this.userForm.patchValue(this.data.editingUser)}onSave(){this.userForm.invalid?this.userForm.markAllAsTouched():this.matDialogRef.close(M(D({},this.userForm.value),{id:this.isEditing?this.data.editingUser.id:U(4),createdAt:this.isEditing?this.data.editingUser.createdAt:new Date}))}static \u0275fac=function(r){return new(r||e)(p(Ue),p(fe),p(be))};static \u0275cmp=h({type:e,selectors:[["app-user-dialog"]],decls:31,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"row"],[1,"col-6"],[1,"example-form-field","w-100"],["formControlName","firstName","matInput","","type","text"],["formControlName","lastName","matInput","","type","text"],[1,"col-12"],["formControlName","email","matInput","","type","email"],["mat-dialog-actions",""],["mat-dialog-close","","mat-button",""],["mat-button","",3,"click"]],template:function(r,a){if(r&1&&(i(0,"h1",0),o(1),n(),i(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),o(8,"Nombre"),n(),c(9,"input",6),i(10,"mat-error"),s(11,et,1,0),n()()(),i(12,"div",4)(13,"mat-form-field",5)(14,"mat-label"),o(15,"Apellido"),n(),c(16,"input",7),i(17,"mat-error"),s(18,tt,1,0),n()()(),i(19,"div",8)(20,"mat-form-field",5)(21,"mat-label"),o(22,"Email"),n(),c(23,"input",9),i(24,"mat-error"),s(25,it,1,0),n()()()()()(),i(26,"div",10)(27,"button",11),o(28,"Cancelar"),n(),i(29,"button",12),C("click",function(){return a.onSave()}),o(30,"Guardar"),n()()),r&2){let d,G,P;m(),S(" ",a.data!=null&&a.data.editingUser?"Editando":"Creando",` usuario
`),m(2),u("formGroup",a.userForm),m(8),f((d=a.userForm.get("firstName"))!=null&&d.hasError("required")?11:-1),m(7),f((G=a.userForm.get("lastName"))!=null&&G.hasError("required")?18:-1),m(7),f((P=a.userForm.get("email"))!=null&&P.hasError("required")?25:-1)}},dependencies:[L,de,ce,N,pe,ue,R,A,k,Ce,B,Me,Ie,we,Te]})}return e})();var j=(()=>{class e{httpClient;baseURL=me.apiBaseURL;constructor(t){this.httpClient=t}getById(t){return this.httpClient.get(`${this.baseURL}/users/${t}`)}getUsers(){return this.httpClient.get(`${this.baseURL}/users`)}createUser(t){return this.httpClient.post(`${this.baseURL}/users`,M(D({},t),{role:"USER",password:U(8),token:U(20),createdAt:new Date().toISOString()}))}removeUserById(t){return this.httpClient.delete(`${this.baseURL}/users/${t}`).pipe(V(()=>this.getUsers()))}updateUserById(t,r){return this.httpClient.patch(`${this.baseURL}/users/${t}`,r).pipe(V(()=>this.getUsers()))}static \u0275fac=function(r){return new(r||e)(z(Z))};static \u0275prov=Y({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ot=()=>[1,2,3,4,5,6,7,8];function rt(e,l){e&1&&c(0,"mat-spinner")}function at(e,l){e&1&&(i(0,"th",27),o(1,"No."),n())}function lt(e,l){if(e&1&&(i(0,"td",28),o(1),n()),e&2){let t=l.$implicit;m(),w(t.id)}}function mt(e,l){e&1&&(i(0,"th",27),o(1,"Nombre"),n())}function st(e,l){if(e&1&&(i(0,"td",29),o(1),H(2,"userFullName"),n()),e&2){let t=l.$implicit;m(),S(" ",q(2,1,t)," ")}}function dt(e,l){e&1&&(i(0,"th",27),o(1,"Correo electronico"),n())}function ct(e,l){if(e&1&&(i(0,"td",28),o(1),n()),e&2){let t=l.$implicit;m(),w(t.email)}}function pt(e,l){e&1&&(i(0,"th",27),o(1,"Fecha de creacion"),n())}function ut(e,l){if(e&1&&(i(0,"td",28),o(1),H(2,"date"),n()),e&2){let t=l.$implicit;m(),w(q(2,1,t.createdAt))}}function ft(e,l){e&1&&(i(0,"th",27),o(1,"Acciones"),n())}function _t(e,l){if(e&1){let t=$();i(0,"td",28)(1,"button",30),C("click",function(){let a=v(t).$implicit,d=_(2);return E(d.goToDetail(a.id))}),i(2,"mat-icon"),o(3,"visibility"),n()(),i(4,"button",30),C("click",function(){let a=v(t).$implicit,d=_(2);return E(d.openModal(a))}),i(5,"mat-icon"),o(6,"edit"),n()(),i(7,"button",30),C("click",function(){let a=v(t).$implicit,d=_(2);return E(d.onDelete(a.id))}),i(8,"mat-icon"),o(9,"delete"),n()()()}}function Ct(e,l){e&1&&c(0,"tr",31)}function ht(e,l){e&1&&c(0,"tr",32)}function gt(e,l){if(e&1){let t=$();i(0,"button",15),C("click",function(){v(t);let a=_();return E(a.openModal())}),i(1,"mat-icon"),o(2," add "),n(),o(3," Crear usuario "),n(),i(4,"table",16),g(5,17),s(6,at,2,0,"th",18)(7,lt,2,1,"td",19),x(),g(8,20),s(9,mt,2,0,"th",18)(10,st,3,3,"td",21),x(),g(11,22),s(12,dt,2,0,"th",18)(13,ct,2,1,"td",19),x(),g(14,23),s(15,pt,2,0,"th",18)(16,ut,3,3,"td",19),x(),g(17,24),s(18,ft,2,0,"th",18)(19,_t,10,0,"td",19),x(),s(20,Ct,1,0,"tr",25)(21,ht,1,0,"tr",26),n()}if(e&2){let t=_();m(4),u("dataSource",t.dataSource),m(16),u("matHeaderRowDef",t.displayedColumns),m(),u("matRowDefColumns",t.displayedColumns)}}function xt(e,l){e&1&&(i(0,"div",33)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),o(4,"Shiba Inu"),n(),i(5,"mat-card-subtitle"),o(6,"Dog Breed"),n()(),i(7,"mat-card-content"),o(8," Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ab, incidunt repellendus reprehenderit odit cupiditate maiores consequuntur vero architecto earum impedit excepturi non autem placeat ipsa, deleniti optio illum, ex nostrum! "),n(),i(9,"mat-card-actions")(10,"button",9),o(11,"LIKE"),n(),i(12,"button",9),o(13,"SHARE"),n()()()())}var Ye=(()=>{class e{matDialog;usersService;router;activatedRoute;displayedColumns=["id","name","email","createdAt","actions"];dataSource=[];isLoading=!1;usuario={nombre:"Josue",apellido:"Baez"};constructor(t,r,a,d){this.matDialog=t,this.usersService=r,this.router=a,this.activatedRoute=d}ngOnInit(){this.loadUsers()}loadUsers(){this.isLoading=!0,this.usersService.getUsers().subscribe({next:t=>{this.dataSource=t},error:()=>{this.isLoading=!1},complete:()=>{this.isLoading=!1}})}onDelete(t){confirm("Esta seguro?")&&(this.isLoading=!0,this.usersService.removeUserById(t).subscribe({next:r=>{this.dataSource=r},error:r=>{this.isLoading=!1},complete:()=>{this.isLoading=!1}}))}goToDetail(t){this.router.navigate([t,"detail"],{relativeTo:this.activatedRoute})}openModal(t){this.matDialog.open(Ge,{data:{editingUser:t}}).afterClosed().subscribe({next:r=>{r&&(t?this.handleUpdate(t.id,r):this.usersService.createUser(r).subscribe({next:()=>this.loadUsers()}))}})}handleUpdate(t,r){this.isLoading=!0,this.usersService.updateUserById(t,r).subscribe({next:a=>{this.dataSource=a},error:a=>{this.isLoading=!1},complete:()=>{this.isLoading=!1}})}static \u0275fac=function(r){return new(r||e)(p(De),p(j),p(ee),p(y))};static \u0275cmp=h({type:e,selectors:[["app-users"]],decls:69,vars:5,consts:[["picker",""],[1,"container"],[1,"row","w-50"],[1,"col-6"],[1,"example-form-field","w-100"],["matInput","","type","text"],[1,"w-100"],["matInput","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["mat-button",""],["color","tertiary","mat-raised-button",""],["mat-stroked-button",""],["mat-flat-button",""],[1,"row","gy-3"],["class","col-3",4,"ngFor","ngForOf"],["mat-button","",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["color","violet","appHighlight","","mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","violet","appHighlight","","mat-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"col-3"]],template:function(r,a){if(r&1&&(i(0,"div",1)(1,"h2"),o(2,"Usuarios"),n(),s(3,rt,1,0,"mat-spinner")(4,gt,22,3),i(5,"h2"),o(6,"Formularios"),n(),i(7,"form")(8,"div",2)(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),o(12,"Clearable input"),n(),c(13,"input",5),n()(),i(14,"div",3)(15,"mat-form-field",6)(16,"mat-label"),o(17,"Selecciona pais"),n(),i(18,"mat-select")(19,"mat-option"),o(20,"Argentina"),n(),i(21,"mat-option"),o(22,"Chile"),n(),i(23,"mat-option"),o(24,"Uruguay"),n(),i(25,"mat-option"),o(26,"Peru"),n()()()(),i(27,"div",3)(28,"mat-form-field")(29,"mat-label"),o(30,"Choose a date"),n(),c(31,"input",7),i(32,"mat-hint"),o(33,"MM/DD/YYYY"),n(),c(34,"mat-datepicker-toggle",8)(35,"mat-datepicker",null,0),n()()()(),i(37,"h2"),o(38,"Botones"),n(),i(39,"p")(40,"button",9),o(41,"Crear"),n(),c(42,"br")(43,"br"),i(44,"button",10),o(45,"Crear"),n(),c(46,"br")(47,"br"),i(48,"button",11),o(49,"Crear"),n(),c(50,"br")(51,"br"),i(52,"button",12),o(53,"Crear"),n()(),i(54,"h2"),o(55,"Iconos"),n(),i(56,"p")(57,"mat-icon"),o(58,"add-outline"),n(),i(59,"mat-icon"),o(60,"bluetooth-outline"),n(),i(61,"mat-icon"),o(62,"diamond-outline"),n(),i(63,"mat-icon"),o(64,"home"),n()(),i(65,"h2"),o(66,"Tarjetas"),n(),i(67,"div",13),s(68,xt,14,0,"div",14),n()()),r&2){let d=J(36);m(3),f(a.isLoading?3:4),m(28),u("matDatepicker",d),m(3),u("for",d),m(34),u("ngForOf",K(4,ot))}},dependencies:[Q,qe,L,N,R,se,_e,ie,ae,oe,le,re,ne,A,k,he,ge,B,xe,te,Se,ve,Ee,ye,Fe,Ae,Ne,Re,Be,Le,ke,je,Ve,He,W,$e]})}return e})();function St(e,l){e&1&&(i(0,"p"),o(1,"Cargando, por favor espere..."),n())}function vt(e,l){if(e&1&&(i(0,"h1"),o(1),n(),i(2,"p"),o(3,"user-detail works!"),n()),e&2){let t=_();m(),S("Detalle del usuario: ",(t.user==null?null:t.user.firstName)+" "+(t.user==null?null:t.user.lastName),"")}}var ze=(()=>{class e{activatedRoute;usersService;idUsuario;user;isLoading=!1;constructor(t,r){this.activatedRoute=t,this.usersService=r,console.log("LA RUTA ACTIVA ES: ",t),this.idUsuario=t.snapshot.params.id}ngOnInit(){this.isLoading=!0,this.usersService.getById(this.activatedRoute.snapshot.params.id).subscribe({next:t=>{this.user=t,this.isLoading=!1}})}static \u0275fac=function(r){return new(r||e)(p(y),p(j))};static \u0275cmp=h({type:e,selectors:[["app-user-detail"]],decls:2,vars:1,template:function(r,a){r&1&&s(0,St,2,0,"p")(1,vt,4,1),r&2&&f(a.isLoading?0:1)}})}return e})();var Et=[{path:"",component:Ye},{path:":id/detail",component:ze}],Je=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=T({type:e});static \u0275inj=I({imports:[O.forChild(Et),O]})}return e})();var ri=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=T({type:e});static \u0275inj=I({imports:[X,Je,Oe]})}return e})();export{ri as UsersModule};
