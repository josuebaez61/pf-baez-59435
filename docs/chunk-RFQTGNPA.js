import{a as ie,b as se}from"./chunk-LCVQ7A6S.js";import{a as re}from"./chunk-YWYD2KRV.js";import{E as oe,a as X,e as ee,g as te}from"./chunk-4I5F3KA5.js";import"./chunk-NNRQZXAP.js";import{c as T,d as k,e as g,n as G,o as h,p as L,q as J,t as z,u as S,v as H}from"./chunk-VED7TU6T.js";import{O as R,aa as K,ga as N,ia as V,ja as q,la as Z,ma as Y,na as Q,oa as W}from"./chunk-W65YXDCL.js";import"./chunk-EJJBCPAK.js";import{n as M}from"./chunk-YSMQIVPS.js";import{$c as A,Eb as p,Mb as r,Nb as s,Vb as _,a as u,b as f,cd as P,ed as U,fc as a,fd as D,gc as $,gd as w,hb as m,ia as j,ib as y,ic as v,ja as F,na as B,pc as l,qc as c,ta as b,ua as O,zb as I}from"./chunk-EVXATCS4.js";var i=k({source:"Sale",events:{"Load Sales":g(),"Load Product Options":g(),"Load User Options":g(),"Create Sale":T()}});var x="sale",ue=[{id:"sdUd24",productId:"asds",userId:"adasds"},{id:"fdfds",productId:"vfgfdg",userId:"sdasdasd"}],fe=[{id:"avcE2",name:"PS5",price:9999,categoryId:"asdasd"},{id:"avcdE32",name:"Heladera",price:9999,categoryId:"asdasd"}],Se=[{id:"4d22",firstName:"Josue",lastName:"Baez",email:"jbaez@mail.com",password:"123456",role:"ADMIN",token:"ndsHSBnsdjkasJs354MSjsnmvcs332SJnxjS",createdAt:new Date("2024-10-24T00:14:33.140Z")},{id:"Fr24",firstName:"Naruto",lastName:"Uzumaki",email:"naru@mail.com",createdAt:new Date("2024-10-24T01:28:09.184Z"),role:"USER",password:"LHxfNUFt",token:"FKejj6VrYmRw2EtEuecO"}],Fe={sales:[],productOptions:[],userOptions:[]},Oe=H(Fe,S(i.loadSales,e=>f(u({},e),{sales:[...ue]})),S(i.loadProductOptions,e=>f(u({},e),{productOptions:[...fe]})),S(i.loadUserOptions,e=>f(u({},e),{userOptions:[...Se]})),S(i.createSale,(e,n)=>f(u({},e),{sales:[...e.sales,{id:re(4),productId:n.productId,userId:n.userId}]}))),ae=J({name:x,reducer:Oe});var C=L(x),ne=h(C,e=>e.sales),me=h(C,e=>e.productOptions),pe=h(C,e=>e.userOptions);function he(e,n){if(e&1&&(r(0,"mat-option",5),a(1),l(2,"currency"),s()),e&2){let t=n.$implicit;p("value",t.id),m(),v(" ",t.name," - ",c(2,3,t.price)," ")}}function ye(e,n){if(e&1&&(r(0,"mat-option",5),a(1),s()),e&2){let t=n.$implicit;p("value",t.id),m(),v(" ",t.firstName," ",t.lastName," ")}}var le=(()=>{class e{store;formBuilder;sales$;userOptions$;productOptions$;saleForm;constructor(t,o){this.store=t,this.formBuilder=o,this.saleForm=this.formBuilder.group({productId:[null,[N.required]],userId:[null,[N.required]]}),this.sales$=this.store.select(ne),this.productOptions$=this.store.select(me),this.userOptions$=this.store.select(pe)}ngOnInit(){this.store.dispatch(i.loadSales()),this.store.dispatch(i.loadProductOptions()),this.store.dispatch(i.loadUserOptions())}onSubmit(){this.saleForm.invalid?this.saleForm.markAllAsTouched():(this.store.dispatch(i.createSale(this.saleForm.value)),this.saleForm.reset())}static \u0275fac=function(o){return new(o||e)(y(G),y(W))};static \u0275cmp=b({type:e,selectors:[["app-sales"]],decls:19,vars:12,consts:[[3,"ngSubmit","formGroup"],["formControlName","productId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","userId"],["type","submit","mat-flat-button",""],[3,"value"]],template:function(o,d){o&1&&(r(0,"form",0),_("ngSubmit",function(){return d.onSubmit()}),r(1,"mat-form-field")(2,"mat-label"),a(3,"Producto"),s(),r(4,"mat-select",1),I(5,he,3,5,"mat-option",2),l(6,"async"),s()(),r(7,"mat-form-field")(8,"mat-label"),a(9,"Usuario"),s(),r(10,"mat-select",3),I(11,ye,2,3,"mat-option",2),l(12,"async"),s()(),r(13,"button",4),a(14,"Guardar"),s()(),r(15,"pre"),a(16),l(17,"async"),l(18,"json"),s()),o&2&&(p("formGroup",d.saleForm),m(5),p("ngForOf",c(6,4,d.productOptions$)),m(6),p("ngForOf",c(12,6,d.userOptions$)),m(5),$(c(18,10,c(17,8,d.sales$))))},dependencies:[A,Z,V,q,Y,Q,K,ee,X,te,R,P,U,D]})}return e})();var Ie=[{path:"",component:le}],ce=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=O({type:e});static \u0275inj=F({imports:[M.forChild(Ie),M]})}return e})();var de=(()=>{class e{actions$;constructor(t){this.actions$=t}static \u0275fac=function(o){return new(o||e)(B(ie))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})();var ot=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275mod=O({type:e});static \u0275inj=F({imports:[w,oe,ce,z.forFeature(ae),se.forFeature([de])]})}return e})();export{ot as SalesModule};
